{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{studentService}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StudentList=()=>{const[students,setStudents]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const navigate=useNavigate();useEffect(()=>{const fetchStudents=async()=>{setLoading(true);try{const data=await studentService.getAll();// If your backend returns { students: [...] }\nsetStudents(data.students||data);console.log('Fetched students:',data.students||data);}catch(err){setError('Failed to fetch students');}finally{setLoading(false);}};fetchStudents();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:\"Students\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\",onClick:()=>navigate('/students/new'),children:\"Add New Student\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-600 mb-4\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white rounded shadow\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Student ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Grade & Section\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Parent Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Contact\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Edit\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:students.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:6,className:\"text-center py-4 text-gray-500\",children:\"No students found.\"})}):students.map(student=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:student.studentId}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[student.firstName,\" \",student.lastName]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[student.grade,student.section]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:student.parentName}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:student.contactNumber}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"button\",{className:\"text-blue-600 hover:underline\",onClick:()=>navigate(`/students/${student._id}`),children:\"Edit\"})})]},student._id))})]})})]});};export default StudentList;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","studentService","jsx","_jsx","jsxs","_jsxs","StudentList","students","setStudents","loading","setLoading","error","setError","navigate","fetchStudents","data","getAll","console","log","err","className","children","onClick","length","colSpan","map","student","studentId","firstName","lastName","grade","section","parentName","contactNumber","_id"],"sources":["C:/Users/jesli/OneDrive/Desktop/BITS- 2nd Sem/FSAD/Assignment/vaccination-tracker/frontend/src/components/StudentList.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { studentService } from '../services/api';\r\nimport { Student } from '../types/student';\r\n\r\nconst StudentList: React.FC = () => {\r\n  const [students, setStudents] = useState<Student[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchStudents = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const data = await studentService.getAll();\r\n        // If your backend returns { students: [...] }\r\n        setStudents(data.students || data);\r\n        console.log('Fetched students:', data.students || data);\r\n      } catch (err) {\r\n        setError('Failed to fetch students');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchStudents();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"text-3xl font-bold\">Students</h1>\r\n        <button\r\n          className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\r\n          onClick={() => navigate('/students/new')}\r\n        >\r\n          Add New Student\r\n        </button>\r\n      </div>\r\n      {error && <div className=\"text-red-600 mb-4\">{error}</div>}\r\n      <div className=\"overflow-x-auto\">\r\n        <table className=\"min-w-full bg-white rounded shadow\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Student ID</th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Name</th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Grade & Section</th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Parent Name</th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Contact</th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Edit</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {students.length === 0 ? (\r\n              <tr>\r\n                <td colSpan={6} className=\"text-center py-4 text-gray-500\">\r\n                  No students found.\r\n                </td>\r\n              </tr>\r\n            ) : (\r\n              students.map((student) => (\r\n                <tr key={student._id} className=\"border-t\">\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">{student.studentId}</td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">{student.firstName} {student.lastName}</td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">{student.grade}{student.section}</td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">{student.parentName}</td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">{student.contactNumber}</td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <button\r\n                      className=\"text-blue-600 hover:underline\"\r\n                      onClick={() => navigate(`/students/${student._id}`)}\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StudentList; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}