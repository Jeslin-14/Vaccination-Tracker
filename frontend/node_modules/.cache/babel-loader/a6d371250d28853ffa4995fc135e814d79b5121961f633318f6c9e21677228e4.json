{"ast":null,"code":"import React,{useEffect,useState}from'react';import{driveService}from'../services/api';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DriveListPage=()=>{const[drives,setDrives]=useState([]);const[loading,setLoading]=useState(true);const navigate=useNavigate();useEffect(()=>{const fetchDrives=async()=>{setLoading(true);const data=await driveService.getAll();setDrives(data);setLoading(false);};fetchDrives();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:\"Vaccination Drives\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\",onClick:()=>navigate('/drives/new'),children:\"Add New Drive\"})]}),loading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white rounded shadow\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Vaccine\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Doses\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Grades\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Location\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Edit\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:drives.map(drive=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:drive.vaccineName}),/*#__PURE__*/_jsx(\"td\",{children:new Date(drive.driveDate).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{children:drive.availableDoses}),/*#__PURE__*/_jsx(\"td\",{children:drive.applicableGrades.join(', ')}),/*#__PURE__*/_jsx(\"td\",{children:drive.location}),/*#__PURE__*/_jsx(\"td\",{children:drive.status}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"text-blue-600 hover:underline\",onClick:()=>navigate(`/drives/edit/${drive._id}`),disabled:drive.status==='EXPIRED',children:\"Edit\"})})]},drive._id))})]})]});};export default DriveListPage;","map":{"version":3,"names":["React","useEffect","useState","driveService","useNavigate","jsx","_jsx","jsxs","_jsxs","DriveListPage","drives","setDrives","loading","setLoading","navigate","fetchDrives","data","getAll","className","children","onClick","map","drive","vaccineName","Date","driveDate","toLocaleDateString","availableDoses","applicableGrades","join","location","status","_id","disabled"],"sources":["C:/Users/jesli/OneDrive/Desktop/BITS- 2nd Sem/FSAD/Assignment/vaccination-tracker/frontend/src/pages/DriveListPage.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { driveService } from '../services/api';\r\nimport { VaccinationDrive } from '../types/vaccinationDrive';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst DriveListPage: React.FC = () => {\r\n  const [drives, setDrives] = useState<VaccinationDrive[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchDrives = async () => {\r\n      setLoading(true);\r\n      const data = await driveService.getAll();\r\n      setDrives(data);\r\n      setLoading(false);\r\n    };\r\n    fetchDrives();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"text-3xl font-bold\">Vaccination Drives</h1>\r\n        <button\r\n          className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\r\n          onClick={() => navigate('/drives/new')}\r\n        >\r\n          Add New Drive\r\n        </button>\r\n      </div>\r\n      {loading ? (\r\n        <div>Loading...</div>\r\n      ) : (\r\n        <table className=\"min-w-full bg-white rounded shadow\">\r\n          <thead>\r\n            <tr>\r\n              <th>Vaccine</th>\r\n              <th>Date</th>\r\n              <th>Doses</th>\r\n              <th>Grades</th>\r\n              <th>Location</th>\r\n              <th>Status</th>\r\n              <th>Edit</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {drives.map((drive) => (\r\n              <tr key={drive._id}>\r\n                <td>{drive.vaccineName}</td>\r\n                <td>{new Date(drive.driveDate).toLocaleDateString()}</td>\r\n                <td>{drive.availableDoses}</td>\r\n                <td>{drive.applicableGrades.join(', ')}</td>\r\n                <td>{drive.location}</td>\r\n                <td>{drive.status}</td>\r\n                <td>\r\n                  <button\r\n                    className=\"text-blue-600 hover:underline\"\r\n                    onClick={() => navigate(`/drives/edit/${drive._id}`)}\r\n                    disabled={drive.status === 'EXPIRED'}\r\n                  >\r\n                    Edit\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DriveListPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}